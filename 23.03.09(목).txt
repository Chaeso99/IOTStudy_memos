23.03.09(목)
<오전수업>
myapp2 프로젝트를 만들어서 돈 단위 ,(콤마)찍는 과제 해서 냈음

오전1~2교시 과제.
1.myapp2를 동적 웹프로젝트로 만든다.
2.server.xml에 Context에 workDir를 추가한다.
3.src/MyUtil.java를 만든다.
4. 100000단위를 100,000로 표시하기 위한 메소드를 만든다.
	public static String getMoneyForm(String str) {

	}
5.webapp/main.jsp를 만든다.
6.main.jsp에서 String money = "10000000"를 선언하고
표현식으로 천단위 콤마 쉼표 표시를 한다. 
7.webapp/WEB-INF 밑에 web.xml를 만든다.
8.http://localhost/myapp2/를 실행한 화면을 캡쳐해서 네이트온으로 보낸다.

서버에 이클립스가 깔려있지 않기때문에 톰캣으로 다른곳에 배포를 해야됨
<배포과정>
포트번호 충돌 안나게 서버 꺼놓기=>톰캣 깐 폴더(Tomcat9.0)=>webapps=>examples(JSP 및
html 저장 위치임)
examples안에 WEB-INF/lib(외부 라이브러리-주로 jar파일 저장 위치),classes(.class 파일 저장 위치)
둘은 반드시 있어야됨

배포파일 확장자는 war

이클립스에서 프로젝트에 우클릭=>export=>C:\Jsp\Tomcat9.0\webapps(톰캣 아래
웹 앱스 아래에 저장).war 파일이 들어간걸 보고 새로 파일탐색기 열어서 C:\Jsp\Tomcat9.0\bin
톰캣 아래 bin으로 가보면 실행파일 있음=>실행하면 war파일 있는곳에 프로젝트가 생김
(생기고 나면war파일은 지워도됨)=>브라우저 주소창에서 켜보면 돌아감(localhost/myapp2/)

실무를 대비해서 호스팅 받는걸 해보면 좋을것(카페24 등 서비스 이용)

jsp에서 스크립트를<>태그를 이용해서 만들 수도 있음(불편해서 잘 안쓴다. 있는지만 알아두자)
ㄴmyapp의 src/ch05에 있는 script4.jsp 예제
--------------------------------------------------------------------------------------------------
ppt6장 JSP 지시자와 액션 태그
<%@page 내용%>
페이지 지시자임(이렇게 이렇게 만들어라 라고 지시함)
액션 태그는 말 그대로 태그임<내용/> 이렇게 생김 액션태그는 많이 사용한다.'

지시자(Directive)는 종류가 총 3가지임 page, include, taglib

에러났을때 에러내용을 사용자에게 보여주면 안된다. 특히 금융관련 사이트면 치명적임
에러났을때 보여줄 페이지를 따로 만들어서 사용자에게 보여줘야함(page지시자의 
errorPage, isErrorPage속성 이용)

웹에서 세션(Session)은 무조건!!!! 알아야됨(모르면 여러가지 기능들을 만들기 힘들다.)
	ㄴ연결 단위
DB로 치면 콘솔에서도, DB툴에서도, 자바파일에서도 DB에 접속가능한데 이때 DB에 연결되어진
세션의 수는 3개임. 웹에서는 이 세션이 조금 확장되는 개념인데

로그인의 경우 아디비번 입력해서 보내면 웹서버가 DB에 접속해서 값이 맞으면 사용자를 접속시킴
웹은 Connection이 유지되지 않는 서비스임(요청하고 응답받으면 커넥션이 끊어짐)
이사람이 누군지를 구분해야 계속 서비스를 해줄것=>이래서 나온 개념이 세션
(네이트온이나 카카오 등의 서비스는 연결이 계속 유지되어 있기때문에 서버 소모값이 많음
웹은 서버 소모값이 적다.)
최초 접속할때 많은 값들을 가지고 접속함(id,pw,ip 등등등등)=>서버가 처음온 클라이언트를 
발견하면 Session이라는 객체를 하나 만듬 a가오면 a의세션객체 b가오면 b의세션객체... 
클라이언트마다 만듬=>클라이언트에게 세션ID를 만들어줌(숫자, 영어 30자)
클라이언트는 2회차 접속부터 세션ID를 가지고 접속함(처음갈때 인적사항 적고 회원증 받아와서
다음부터는 회원증 보여주는거랑 같은 개념임)

세션(Session)은 서버에 클라이언트 정보를 제공하는 객체임

페이지 지시자에서 세션을 사용할지 말지 정할 수 있음<%page session = True/False
(디폴트는 True)

(자동 로그아웃은 일정시간(intervaltime, 디폴트는 30분) 미사용 시 이 세션 객체가 삭제되는것)

session은 자바 내장 객체임 객체 따로 안만들어도 사용가능
세션 ID값은 쿠키(클라이언트 PC에 저장되는 흔적)에 저장됨
-------------------------------------------------------------------------------------------------
<오후수업>
charset:클라이언트에게 보낼 코드의 인코딩
pageEncoding: 현재 JSP페이지의 인코딩. 페이지인코딩이 선언되지 않으면 charset이
두가지 역할을 모두 수행함
trimDirectiveWhitespaces="true" :페이지 소스코드 공백 제거
el문법:<%
		String site = "jspstudy.co.kr";
		request.setAttribute("site", site);
%>	사이트명:${site}

isELIgnored="true" :el문법(스프링에서 많이쓰임)을 사용하지 않을때 쓰는 속성
<!--에러 결과로서 쓰이는 페이지는 isErrorPage="true"를 통해 표기해줘야함
, true로 하면 exception이라는 내장객체 생김(디폴트는 false) -->

반복적으로 페이지에 같은 내용이 유지될때 top, left, right, bottom 같은
부분적 페이지를 따로 만들어서 <%@include로 붙이면 됨

include는 자바 파일들을 가져와서 하나의 파일처럼 사용하는 구조라서(같이 합쳐져서 컴파일됨) 
포함된 다른 파일에서 선언한 변수를 같은이름으로 다시 만들어 사용할 수 없음.
(ppt의 include 사용 예:그림6-6 include 지시자의 처리 과정 참고)

include 지시자는 include 액션 태그와 많은 차이가 있다.